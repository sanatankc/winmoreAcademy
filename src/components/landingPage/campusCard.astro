---
import { getImage } from "astro:assets";
import Text from "../system/Text.astro";
const { image, class: className, name, desc, link } = Astro.props

---

<div data-link={link} class:list={[' max-md:w-full h-[504px] cursor-pointer max-md:h-[300px] rounded-2xl  max-md:mb-8 flex flex-col justify-end max-md:p-0 bg-cover bg-center overflow-hidden' , { className }]}
  style={{
    backgroundImage: `url(${image.src})`
  }}
>
  <div class='flex flex-row justify-between items-center bg-gradient-to-b p-8 from-black/0 to-black max-md:p-4 w-full'>
    <div class="flex flex-row items-center">
      <div class='w-12 h-12 max-md:min-w-[44px] max-md:min-h-[44px] rounded-full flex justify-center items-center' style={{
        background: 'rgba(0, 0, 0, 0.1)',
        backdropFilter: 'blur(20px)'
      }}>
        <div class='w-[20px] h-[20px] min-w-[20px] min-h-[20px]'>
          <svg viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.5 1.5625C8.18701 1.5625 4.6875 4.7124 4.6875 8.59375C4.6875 14.8438 12.5 23.4375 12.5 23.4375C12.5 23.4375 20.3125 14.8438 20.3125 8.59375C20.3125 4.7124 16.813 1.5625 12.5 1.5625ZM12.5 12.5C11.8819 12.5 11.2777 12.3167 10.7638 11.9733C10.2499 11.63 9.8494 11.1419 9.61288 10.5709C9.37635 9.99987 9.31447 9.37153 9.43505 8.76534C9.55562 8.15915 9.85325 7.60233 10.2903 7.16529C10.7273 6.72825 11.2842 6.43062 11.8903 6.31005C12.4965 6.18947 13.1249 6.25135 13.6959 6.48788C14.2669 6.7244 14.755 7.12494 15.0983 7.63884C15.4417 8.15275 15.625 8.75693 15.625 9.375C15.6241 10.2035 15.2946 10.9979 14.7087 11.5837C14.1229 12.1696 13.3285 12.4991 12.5 12.5Z" fill="white"/>
          </svg>
        </div>
      </div>
  
      <div class='ml-6 mr-6 max-md:ml-2'>
        <Text type={'h4'} class=''>{name}</Text>
        <Text type={'sm'} class=''>{desc}</Text>
      </div>
      
    </div>
      <a href={link} class="max-md:hidden">
        <div class="px-4 py-2 bg-green-600 rounded-lg">
            <Text type='regular'>Explore</Text>
          </div>
        </a>

  </div>
</div>

<script>
  document.querySelectorAll('[data-link]').forEach(el => {
    console.log(el)
    el.addEventListener('click', () => {
      window.open(el.dataset.link, "_self"); 
    })
  })
</script>